From aa69dcc3f8a48fc4b139f40be83306488915fefd Mon Sep 17 00:00:00 2001
From: Hector Cao <hector.cao@canonical.com>
Date: Mon, 23 Jun 2025 17:46:08 +0000
Subject: [PATCH] fix opencl lib
Last-Update: 2025-08-22
---
--- intel-dpcpp-6.2.0.orig/unified-runtime/source/adapters/opencl/CMakeLists.txt
+++ intel-dpcpp-6.2.0/unified-runtime/source/adapters/opencl/CMakeLists.txt
@@ -65,6 +65,11 @@ else()
     )
 endif()
 
+find_package(OpenCL QUIET)
+if(OpenCL_FOUND)
+       set(UR_OPENCL_ICD_LOADER_LIBRARY OpenCL::OpenCL)
+endif()
+
 # The OpenCL target can be set manually on upstream cmake to avoid using
 # find_package().
 if(UR_OPENCL_ICD_LOADER_LIBRARY)
